<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore the #OpenSourceHumanities movement, featuring tweets and community venues. Join the conversation and see where the community is making an impact.">
    <title>#OpenSourceHumanities</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Open Source Humanities Hub</h1>

    <!-- Main Page Image -->
    <div class="main-image">
        <img src="Images/Gbux-IGaUAA7b13.jpeg" alt="Open Source Humanities Image">
    </div>

    <!-- Navigation for Tabs -->
    <div class="tabs" role="tablist">
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="tweets-tab" id="tab-tweets" onclick="showTab('tweets-tab')">Tweets</button>
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="venues-tab" id="tab-venues" onclick="showTab('venues-tab')">Community Venues</button>
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="people-tab" id="tab-people" onclick="showTab('people-tab')">People Involved</button>
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="services-tab" id="tab-services" onclick="showTab('services-tab')">Paid-for Academic Services</button>
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="blog-tab" id="tab-blog" onclick="showTab('blog-tab')">The Differential Ontology Blog</button>
        <button class="tab-button" role="tab" aria-selected="false" aria-controls="resources-tab" id="tab-resources" onclick="showTab('resources-tab')">Community Involvement Resources</button>
    </div>

    <!-- Tweets Tab Content -->
    <div id="tweets-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-tweets" style="display: none;">
        <h2>#OpenSourceHumanities Tweets</h2>
        <div id="tweets-container" aria-live="polite" aria-label="Recent tweets about #OpenSourceHumanities"></div>
    </div>

    <!-- Community Venues Tab Content -->
    <div id="venues-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-venues" style="display: none;">
        <h2>OpenSourceHumanities Community Venues</h2>
        <div id="venues-container">
            <ul>
                <li><a href="https://tunein.com/podcasts/Philosophy-Podcasts/Acid-Horizon-p1323450/" target="_blank" rel="noopener noreferrer">Acid Horizon on TuneIn</a></li>
                <li><a href="https://soundcloud.com/podcast-co-coopercherry" target="_blank" rel="noopener noreferrer">Mechanic Unconscious Happy Hour on SoundCloud</a></li>
                <li><a href="https://lacancircle.com.au/" target="_blank" rel="noopener noreferrer">The Lacan Circle of Australia</a></li>
                <li><a href="https://podcasts.apple.com/us/podcast/moral-minority/id1728182343" target="_blank" rel="noopener noreferrer">Moral Minority</a></li>
                <li><a href="https://nimshav.github.io/EthnoComm-Repository/" target="_blank" rel="noopener noreferrer">The Ethnography of Communication Bibliography</a></li>
            </ul>
        </div>
    </div>

    <!-- People Tab Content -->
    <div id="people-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-people" style="display: none;">
        <h2>People</h2>
        <div id="people-container">
            <p>These are the MASTERS.</p>
            <ul>
                <li><a href="https://x.com/Qtempor/with_replies" target="_blank" rel="noopener noreferrer">@Qtempor</a></li>
                <li><a href="https://x.com/dAllesZermalmer" target="_blank" rel="noopener noreferrer">@dAllesZermalmer</a></li>
                <li><a href="https://haifa.academia.edu/NimrodShavit" target="_blank" rel="noopener noreferrer">The Boss</a></li>
            </ul>
        </div>
    </div>

    <!-- Paid-for Academic Services Tab Content -->
    <div id="services-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-services" style="display: none;">
        <h2>Paid-for Academic Services</h2>
        <div id="services-container">
            <ul>
                <li><a href="#" onclick="showProfile('dAllesZermalmer')">Profile of @dAllesZermalmer</a></li>
            </ul>
            <div id="profile-dAllesZermalmer" class="profile-content" style="display: none;">
                <h3>Nimrod Shavit</h3>
                <p><strong>Bio:</strong> I am a communication scholar specializing in the intersection of qualitative methods epistemology and Language and Social Interaction (LSI). My research focuses on the political economy of human conversation and how this micro-communicative system interacts with the political economies of macro-social and institutional orders. My current work has two main goals: first, to enhance the understanding of causal "Why" questions in qualitative communication research based on Jon Elster's analytical Marxism; and second, to ground ethnographic interpretation in the differential ontologies of Martin Heidegger and Jacques Derrida.
                </p>
                <p><strong>CV:</strong> <a href="https://u.pcloud.link/publink/show?code=XZt5L55ZS0wGR8RV03pHMbArUfbro8e7HVYy" target="_blank" rel="noopener noreferrer">View CV</a></p>
                <p><strong>Services Offered:</strong></p>
                <ol>
                    <li><em>Dissertation Hacking</em>. If you're a graduate student in any area of the social sciences and humanities who got stuck in the dissertation -- offer <em>me</em> the editorial job and I'll lead you to completion with <em>warranty</em>.</li>
                </ol>
            </div>
            <!-- Centralized Image -->
            <div class="academic-services-image">
                <img src="Images/GebK7kjWEAAK3Fy.jpeg" alt="Academic Services Image">
            </div>
        </div>
    </div>

    <!-- The Differential Ontology Blog Tab Content -->
    <div id="blog-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-blog" style="display: none;">
        <h2>The Differential Ontology Blog</h2>
        <div class="sub-tabs">
            <button class="sub-tab-button" onclick="showSubTab('power-relations')">Power Relations</button>
        </div>
        <div id="power-relations" class="sub-tab-content" style="display: none;">
            <h3>Power Relations</h3>
            <p><strong>First Blog Post:</strong> <a href="https://u.pcloud.link/publink/show?code=XZBAf05ZNHf6RFgaxDbGlBvb2i0jgQig7NKV" target="_blank" rel="noopener noreferrer">Read PDF</a></p>
        </div>
    </div>

    <!-- Community Involvement Resources Tab Content -->
    <div id="resources-tab" class="tab-content" role="tabpanel" aria-labelledby="tab-resources" style="display: none;">
        <h2>Community Involvement Resources</h2>
        <div id="resources-container">
            <ul>
                <!-- Added GitHub Link -->
                <li>
                    <a href="https://github.com/nimshav/Open-Source-Humanities" target="_blank" rel="noopener noreferrer">
                        View #OpenSourceHumanities on GitHub
                    </a>
                </li>
                <li>
                    <a href="https://www.youtube.com/watch?v=mJ-qvsxPHpY" target="_blank" rel="noopener noreferrer">
                        Git Tutorial for Dummies
                    </a><p>This tutorial is recommended as a way to get to know Git and GitHub. Real dummies -- like me -- can use the<a href="https://desktop.github.com/download/">GitHub application for desktop.</a>
                    </p>
                </li>
            </ul>
        </div>
    </div>

    <noscript>
        <p>JavaScript is required to load the content of this page. Please enable JavaScript in your browser settings.</p>
    </noscript>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tweetsTabButton = document.querySelector('.tab-button[onclick="showTab(\'tweets-tab\')"]');
            const tweetsContainer = document.getElementById('tweets-container');
            let tweetsFetched = false;

            async function fetchAndDisplayTweets() {
                if (tweetsFetched) return;

                tweetsContainer.innerHTML = '<p>Loading tweets...</p>';

                try {
                    const response = await fetch('/api/tweets');

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error || 'Failed to fetch tweets');
                    }

                    const data = await response.json();
                    tweetsContainer.innerHTML = '';

                    if (data.data && data.data.length > 0) {
                        data.data.forEach(tweet => {
                            const tweetElement = document.createElement('div');
                            tweetElement.className = 'tweet';

                            tweetElement.innerHTML = `
                                <p>${formatText(tweet.text)}</p>
                                <span class="tweet-date">Posted on: ${new Date(tweet.created_at).toLocaleString()}</span>
                            `;

                            tweetsContainer.appendChild(tweetElement);
                        });
                    } else {
                        tweetsContainer.innerHTML = '<p>No tweets found for the hashtag.</p>';
                    }

                    tweetsFetched = true;
                } catch (error) {
                    console.error('Error fetching tweets:', error);
                    tweetsContainer.innerHTML = '<p>Error loading tweets. Please try again later.</p>';
                }
            }

            function formatText(text) {
                return text
                    .replace(/#(\w+)/g, '<a href="https://twitter.com/hashtag/$1" target="_blank" rel="noopener noreferrer">#$1</a>')
                    .replace(/@(\w+)/g, '<a href="https://twitter.com/$1" target="_blank" rel="noopener noreferrer">@$1</a>');
            }

            tweetsTabButton.addEventListener('click', fetchAndDisplayTweets);
            showTab('tweets-tab');
        });

        function showTab(tabId) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.style.display = 'none');

            const activeTab = document.getElementById(tabId);
            activeTab.style.display = 'block';

            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
                button.setAttribute('aria-selected', 'false');
            });
            const activeButton = document.querySelector(`.tab-button[onclick="showTab('${tabId}')"]`);
            if (activeButton) {
                activeButton.classList.add('active');
                activeButton.setAttribute('aria-selected', 'true');
            }
        }

        function showSubTab(subTabId) {
            const subTabContents = document.querySelectorAll('.sub-tab-content');
            subTabContents.forEach(content => content.style.display = 'none');
            const activeSubTab = document.getElementById(subTabId);
            if (activeSubTab) {
                activeSubTab.style.display = 'block';
            }
        }

        function showProfile(profileId) {
            const profiles = document.querySelectorAll('.profile-content');
            profiles.forEach(profile => profile.style.display = 'none');
            const activeProfile = document.getElementById(`profile-${profileId}`);
            if (activeProfile) {
                activeProfile.style.display = 'block';
            }
        }
    </script>
</body>
</html>
